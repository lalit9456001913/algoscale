{"ast":null,"code":"var _jsxFileName = \"/home/lalit/Desktop/algoscale/client/src/Main/Home/Home.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.logout = () => {\n      fetch('/Logout').then(response => {\n        if (response.ok) {\n          this.setState({\n            isLogin: false\n          });\n          localStorage.removeItem('username');\n        }\n      });\n    };\n\n    this.delete = user_id => {\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: user_id\n        })\n      };\n      fetch('/delete', requestOptions).then(response => {\n        console.log(response);\n\n        if (response.ok) {\n          let path = '/signin';\n          this.props.history.push(path);\n        }\n      });\n    };\n\n    this.state = {\n      isLogin: true,\n      users: [],\n      del: false\n    };\n  }\n\n  componentDidMount() {\n    console.log('inside componentDidMounut');\n    fetch('/user').then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        users: data\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.isLogin) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/signin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 10\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 3\n      }\n    }, \"on home page \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      border: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, \"Email\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }\n    }, this.state.users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 8\n      }\n    }, user.user_id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }\n    }, user.username), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 8\n      }\n    }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.delete(user.user_id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 12\n      }\n    }, \"delete\"))))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 3\n      }\n    }, \"Logout\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 3\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Link, {\n      to: \"signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 10\n      }\n    }, \"register\"), \" \"));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lalit/Desktop/algoscale/client/src/Main/Home/Home.js"],"names":["React","Redirect","BrowserRouter","Route","Link","Switch","withRouter","Home","Component","constructor","logout","fetch","then","response","ok","setState","isLogin","localStorage","removeItem","delete","user_id","requestOptions","method","headers","body","JSON","stringify","console","log","path","props","history","push","state","users","del","componentDidMount","json","data","render","map","user","username","email","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Redirect} from 'react-router-dom'\nimport { BrowserRouter , Route, Link, Switch } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nclass Home extends React.Component{\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state={\n\t\t\tisLogin:true,\n\t\t\tusers:[],\n\t\t\tdel:false\n\t\t}\n\t\t\n\n\t}\n\nlogout=()=>{\n\tfetch('/Logout').then(response=>{\n\t\tif(response.ok){\n\t\t\tthis.setState({\n\t\t\t\tisLogin:false\n\t\t\t})\n\t\t\tlocalStorage.removeItem('username');\n\t\t}\n\t})\n  }\n\ndelete=(user_id)=>{\n\tconst requestOptions = {\n        method: 'POST',\n        headers : { \n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n       },\n        body: JSON.stringify({user_id:user_id})\n    };\n\tfetch('/delete',requestOptions).then(response=>{\n\t\tconsole.log(response)\n\t\tif(response.ok){\n        \t\t let path = '/signin';\n    \t\t\tthis.props.history.push(path);\n        \t}\n\t\t}\n\t)\n}\ncomponentDidMount(){\n\n\n\n\tconsole.log('inside componentDidMounut')\n\tfetch('/user').then(response=>response.json()).then(data=>{\n\t\tconsole.log(data)\n\t\tthis.setState({\n\t\t\tusers:data\n\t\t})\n\t})\n}\n\nrender(){\n\t\n\tif(!this.state.isLogin){\n\t\treturn <Redirect to='/signin' />\n\t}\n\treturn <div> \n\t\t<h1>on home page </h1>\n\t\t<div>\n\t\t\t<table border=\"1\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t<th>Username</th>\n\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t{this.state.users.map(user =>(\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>{user.user_id}</td>\n\t\t\t\t\t\t\t<td>{user.username}</td>\n\t\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t\t<td><button onClick={(e)=>{this.delete(user.user_id)}}>delete</button></td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t\t<br></br>\n\n\t\t<button onClick={this.logout}>Logout</button>\n\n\t\t<span> <Link to=\"signup\">register</Link> </span>\n\t</div>\n}\n\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}
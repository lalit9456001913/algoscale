{"ast":null,"code":"var _jsxFileName = \"/home/lalit/mern-crud-app/client/src/Authentication/Register/Registeration.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = prevProps => {\n      const q = [];\n      fetch('/check').then(response => response.json()).then(data => {\n        console.log(data);\n\n        for (var i = data.length - 1; i >= 0; i--) {\n          q.push(data[i]['username']);\n        }\n      });\n    };\n\n    this.handleusernameChange = (name, value) => {\n      console.log('this.state.p', this.state.p);\n      this.setState({\n        [name]: value\n      });\n      console.log('username', this.state.username);\n    };\n\n    this.submitform = e => {\n      if (this.state.p.includes(this.state.username)) {\n        alert('username already taken');\n      }\n\n      e.preventDefault();\n      const {\n        username,\n        email,\n        password,\n        confirm_password\n      } = this.state; //logic magic\n\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          email: this.state.email,\n          password: this.state.password,\n          confirm_password: this.state.confirm_password\n        })\n      };\n      fetch('/user', requestOptions).then(response => {\n        console.log(response); //this.setState({redirectToReferrer:true});\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      email: '',\n      confirm_password: '',\n      redirectToReferrer: false,\n      p: []\n    };\n  }\n\n  render() {\n    const redirectToReferrer = this.state.redirectToReferrer; //if (redirectToReferrer===true){\n    //\treturn <Redirect to='/' />\n    //}\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 8\n      }\n    }, \"Registeration Form\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitform,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: e => this.handleusernameChange('username', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: e => this.handleusernameChange('password', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"email\",\n      value: this.state.email,\n      onChange: e => this.handleusernameChange('email', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"confirm_password\",\n      placeholder: \"confirm_password\",\n      value: this.state.confirm_password,\n      onChange: e => this.handleusernameChange('confirm_password', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/lalit/mern-crud-app/client/src/Authentication/Register/Registeration.js"],"names":["React","Component","Redirect","BrowserRouter","Route","Link","Switch","Register","constructor","props","componentDidMount","prevProps","q","fetch","then","response","json","data","console","log","i","length","push","handleusernameChange","name","value","state","p","setState","username","submitform","e","includes","alert","preventDefault","email","password","confirm_password","requestOptions","method","headers","body","JSON","stringify","redirectToReferrer","render","target"],"mappings":"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","sourcesContent":["import React from 'react';\nimport  {Component}  from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter , Route, Link, Switch } from 'react-router-dom';\n\n\nclass Register extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tusername:'',\n\t\t\tpassword:'',\n\t\t\temail:'',\n\t\t\tconfirm_password:'',\n\t\t\tredirectToReferrer: false,\n\t\t\tp:[]\n\t\t}\n\n\t}\n\n\ncomponentDidMount=(prevProps)=>{\n\tconst q=[];\n\tfetch('/check').then(response=>response.json()).then(data=>{\n\t\tconsole.log(data)\n\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\t\n\t\t\tq.push(data[i]['username'])\n\t\t}\n\t\t\n\t\t\n\t})\n\t\n\t\n\n}\n\nhandleusernameChange=(name,value)=>{\n\t\n\n\n\tconsole.log('this.state.p',this.state.p)\n\tthis.setState({\n\t\t[name]:value\n\t})\n\n\tconsole.log('username',this.state.username)\n\n}\nsubmitform=(e)=>{\n\tif(this.state.p.includes(this.state.username)){\n\t\talert('username already taken')\n\t}\n  e.preventDefault()\n  const {username,email,password,confirm_password}=this.state\n\n  //logic magic\n  const requestOptions = {\n        method: 'POST',\n        \n         headers : { \n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n       },\n        body: JSON.stringify({ username: this.state.username,email:this.state.email,password:this.state.password,confirm_password:this.state.confirm_password})\n    }\n     fetch('/user', requestOptions)\n        .then(response=>{\n        \tconsole.log(response)\n        \t//this.setState({redirectToReferrer:true});\n         })\n            \n      \n}\n\nrender(){\n\tconst redirectToReferrer = this.state.redirectToReferrer;\n\t//if (redirectToReferrer===true){\n\t//\treturn <Redirect to='/' />\n\t//}\n\n\treturn (\n\t\t\t<div>\n\t\t     <h1>Registeration Form</h1>\n\n\t\t\t      <form onSubmit={this.submitform}>\n\t\t\t         <input type=\"text\" name=\"username\"  placeholder=\"Username\" value={this.state.username} onChange={(e)=>this.handleusernameChange('username',e.target.value)} required />\n\t\t\t         <input type=\"text\" name=\"password\" placeholder=\"password\" value={this.state.password} onChange={(e)=>this.handleusernameChange('password',e.target.value)}  required/>\n\t\t\t         <input type=\"email\" name=\"email\" placeholder=\"email\" value={this.state.email} onChange={(e)=>this.handleusernameChange('email',e.target.value)}  required/>\n\t\t\t         <input type=\"text\" name=\"confirm_password\"  placeholder=\"confirm_password\" value={this.state.confirm_password} onChange={(e)=>this.handleusernameChange('confirm_password',e.target.value)} required />\n\t\t\t         <input type=\"submit\"/>\n\t\t\t      </form>\n     \n  \t\t\t</div>\n\n\n\t\t)\n}\n\n}\nexport default Register;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/lalit/mern-crud-app/client/src/Authentication/Register/Registeration.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = prevProps => {\n      const q = [];\n      fetch('/check').then(response => response.json()).then(data => {\n        console.log(data);\n\n        for (var i = data.length - 1; i >= 0; i--) {\n          q.push(data[i]['username']);\n        }\n      });\n    };\n\n    this.handleusernameChange = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submitform = e => {\n      if (this.state.p.includes(this.state.username)) {\n        alert('username already taken');\n      }\n\n      e.preventDefault();\n      const {\n        username,\n        email,\n        password,\n        confirm_password\n      } = this.state; //logic magic\n\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          email: this.state.email,\n          password: this.state.password,\n          confirm_password: this.state.confirm_password\n        })\n      };\n      console.log(requestOptions);\n      fetch('/user', requestOptions).then(response => {\n        console.log(response); //this.setState({redirectToReferrer:true});\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      email: '',\n      confirm_password: '',\n      redirectToReferrer: false,\n      p: []\n    };\n  }\n\n  render() {\n    const redirectToReferrer = this.state.redirectToReferrer;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 8\n      }\n    }, \"Registeration Form\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitform,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: e => this.handleusernameChange('username', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: e => this.handleusernameChange('password', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"email\",\n      value: this.state.email,\n      onChange: e => this.handleusernameChange('email', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"confirm_password\",\n      placeholder: \"confirm_password\",\n      value: this.state.confirm_password,\n      onChange: e => this.handleusernameChange('confirm_password', e.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 6\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 12\n      }\n    }, \"login\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 6\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Link, {\n      to: \"signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 12\n      }\n    }, \"register another\"), \"  \"));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/lalit/mern-crud-app/client/src/Authentication/Register/Registeration.js"],"names":["React","Component","Redirect","BrowserRouter","Route","Link","Switch","Register","constructor","props","componentDidMount","prevProps","q","fetch","then","response","json","data","console","log","i","length","push","handleusernameChange","name","value","setState","submitform","e","state","p","includes","username","alert","preventDefault","email","password","confirm_password","requestOptions","method","headers","body","JSON","stringify","redirectToReferrer","render","target"],"mappings":"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","sourcesContent":["import React from 'react';\nimport  {Component}  from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter , Route, Link, Switch } from 'react-router-dom';\n\n\nclass Register extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tusername:'',\n\t\t\tpassword:'',\n\t\t\temail:'',\n\t\t\tconfirm_password:'',\n\t\t\tredirectToReferrer: false,\n\t\t\tp:[]\n\t\t}\n\n\t}\n\n\ncomponentDidMount=(prevProps)=>{\n\tconst q=[];\n\tfetch('/check').then(response=>response.json()).then(data=>{\n\t\tconsole.log(data)\n\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\t\n\t\t\tq.push(data[i]['username'])\n\t\t}\n\t\t\n\t\t\n\t})\n\t\n}\n\nhandleusernameChange=(name,value)=>{\n\tthis.setState({\n\t\t[name]:value\n\t})\n}\n\nsubmitform=(e)=>{\n\t\n\tif(this.state.p.includes(this.state.username)){\n\t\talert('username already taken')\n\t}\n  e.preventDefault()\n  const {username,email,password,confirm_password}=this.state\n\n  //logic magic\n  const requestOptions = {\n        method: 'POST',\n        \n         headers : { \n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n       },\n        body: JSON.stringify({ username: this.state.username,email:this.state.email,password:this.state.password,confirm_password:this.state.confirm_password})\n    }\n    console.log(requestOptions)\n     fetch('/user', requestOptions)\n        .then(response=>{\n        \tconsole.log(response)\n        \t//this.setState({redirectToReferrer:true});\n         })\n            \n     }\n\nrender(){\n\tconst redirectToReferrer = this.state.redirectToReferrer;\n\t\n\n\treturn (\n\n\t\t<div>\t\n\t\t\t<div>\n\t\t     <h1>Registeration Form</h1>\n\n\t\t\t      <form onSubmit={this.submitform}>\n\t\t\t         <input type=\"text\" name=\"username\"  placeholder=\"Username\" value={this.state.username} onChange={(e)=>this.handleusernameChange('username',e.target.value)} required />\n\t\t\t         <input type=\"text\" name=\"password\" placeholder=\"password\" value={this.state.password} onChange={(e)=>this.handleusernameChange('password',e.target.value)}  required/>\n\t\t\t         <input type=\"email\" name=\"email\" placeholder=\"email\" value={this.state.email} onChange={(e)=>this.handleusernameChange('email',e.target.value)}  required/>\n\t\t\t         <input type=\"text\" name=\"confirm_password\"  placeholder=\"confirm_password\" value={this.state.confirm_password} onChange={(e)=>this.handleusernameChange('confirm_password',e.target.value)} required />\n\t\t\t         <input type=\"submit\"/>\n\t\t\t      </form>\n     \n  \t\t\t</div>\n\n  \t\t\t<div> <Link to='/signin'>login</Link> </div>\n  \t\t\t<div> <Link to=\"signup\">register another</Link>\t </div>\n\n  \t\t</div>\n\n\n\t\t)\n}\n\n}\nexport default Register;"]},"metadata":{},"sourceType":"module"}
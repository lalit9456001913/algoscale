{"ast":null,"code":"var _jsxFileName = \"/home/lalit/mern-crud-app/client/src/Main/Home/Home.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.logout = () => {\n      localStorage.removeItem('username');\n    };\n\n    this.delete = user_id => {\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: user_id\n        })\n      };\n      fetch('/delete', requestOptions).then(response => console.log(response));\n    };\n\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    console.log('inside componentDidMounut');\n    fetch('/user').then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        users: data\n      });\n    });\n  }\n\n  render() {\n    const token = localStorage.getItem(\"username\");\n\n    if (!token) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/signin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 10\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 3\n      }\n    }, \"on home page \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      border: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, \"Email\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }\n    }, this.state.users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }\n    }, user.user_id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 8\n      }\n    }, user.username), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 8\n      }\n    }, user.email), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.delete(user.user_id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 8\n      }\n    }, \"delete\")))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 3\n      }\n    }, \"Logout\"));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lalit/mern-crud-app/client/src/Main/Home/Home.js"],"names":["React","Redirect","Home","Component","constructor","logout","localStorage","removeItem","delete","user_id","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","console","log","state","users","componentDidMount","json","data","setState","render","token","getItem","map","user","username","email","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Redirect} from 'react-router-dom'\nclass Home extends React.Component{\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state={\n\t\t\t\n\t\t\tusers:[]\n\t\t}\n\t\t\n\n\t}\n\t\nlogout=()=>{\n\tlocalStorage.removeItem('username');\n}\n\ndelete=(user_id)=>{\n\tconst requestOptions = {\n        method: 'POST',\n        headers : { \n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n       },\n        body: JSON.stringify({user_id:user_id})\n    };\n\tfetch('/delete',requestOptions).then(response=>console.log(response))\n}\ncomponentDidMount(){\n\n\n\n\tconsole.log('inside componentDidMounut')\n\tfetch('/user').then(response=>response.json()).then(data=>{\n\t\tconsole.log(data)\n\t\tthis.setState({\n\t\t\tusers:data\n\t\t})\n\t})\n}\n\nrender(){\n\tconst token = localStorage.getItem(\"username\")\n\tif(!token){\n\t\treturn <Redirect to='/signin' />\n\t}\n\treturn <div> \n\t\t<h1>on home page </h1>\n\t\t<div>\n\t\t\t<table border=\"1\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t<th>Username</th>\n\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t{this.state.users.map(user =>(\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>{user.user_id}</td>\n\t\t\t\t\t\t\t<td>{user.username}</td>\n\t\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t\t<button onClick={(e)=>{this.delete(user.user_id)}}>delete</button>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t\t<br></br>\n\n\t\t<button onClick={this.logout}>Logout</button>\n\t</div>\n}\n\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}
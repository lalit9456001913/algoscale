{"ast":null,"code":"var _jsxFileName = \"/home/lalit/mern-crud-app/client/src/Authentication/Login/Login.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom'; //import {Redirect, BrowserRouter, Route, Link, Switch } from 'react-router-dom';\n\nimport Register from '../Register/Registeration.js'; //const Main = lazy(() => import('../../Main/index.js'));\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.submitform = e => {\n      e.preventDefault();\n      let username = e.target[0].value;\n      let password = e.target[1].value; //logic magic\n\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password\n        })\n      };\n      fetch('/auth', requestOptions).then(response => {\n        if (response.ok) {\n          this.props.changeName(true);\n          const token = localStorage.setItem(\"username\", username);\n        }\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"Login Form\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitform,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      to: \"signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, \"register\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/lalit/mern-crud-app/client/src/Authentication/Login/Login.js"],"names":["React","Link","Register","Login","Component","constructor","props","handleChange","event","setState","target","name","value","submitform","e","preventDefault","username","password","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","ok","changeName","token","localStorage","setItem","state","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAAQC,IAAR,QAAmB,kBAAnB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,8BAArB,C,CACA;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUtBC,YAVsB,GAURC,KAAD,IAAU;AAEpB,WAAKC,QAAL,CAAc;AAAC,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AAAnC,OAAd;AACD,KAboB;;AAAA,SAevBC,UAfuB,GAeTC,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,QAAQ,GAACF,CAAC,CAACJ,MAAF,CAAS,CAAT,EAAYE,KAAzB;AACA,UAAIK,QAAQ,GAACH,CAAC,CAACJ,MAAF,CAAS,CAAT,EAAYE,KAAzB,CAHc,CAMZ;;AACA,YAAMM,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,MADW;AAGnBC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,oBAAU;AAFL,SAHU;AAOnBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,UAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,UAAAA,QAAQ,EAAEA;AAAhC,SAAf;AAPa,OAAvB;AASAO,MAAAA,KAAK,CAAC,OAAD,EAAUN,cAAV,CAAL,CACKO,IADL,CACUC,QAAQ,IAAK;AACd,YAAGA,QAAQ,CAACC,EAAZ,EAAe;AACZ,eAAKrB,KAAL,CAAWsB,UAAX,CAAsB,IAAtB;AACA,gBAAMC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCf,QAAhC,CAAZ;AAEA;AAEH,OART;AAUC,KAzCc;;AAEf,SAAKgB,KAAL,GAAW;AACThB,MAAAA,QAAQ,EAAC,EADA;AAETC,MAAAA,QAAQ,EAAC;AAFA,KAAX;AAOH;;AAiCDgB,EAAAA,MAAM,GAAG;AAID,wBAGF;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAM,MAAA,QAAQ,EAAE,KAAKpB,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAoC,MAAA,WAAW,EAAC,UAAhD;AAA2D,MAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWhB,QAA7E;AAAuF,MAAA,QAAQ,EAAE,KAAKT,YAAtG;AAAoH,MAAA,QAAQ,MAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,WAAW,EAAC,UAA/C;AAA0D,MAAA,KAAK,EAAE,KAAKyB,KAAL,CAAWf,QAA5E;AAAuF,MAAA,QAAQ,EAAE,KAAKV,YAAtG;AAAoH,MAAA,QAAQ,MAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CAHF,eAUJ,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVI,CAHE;AAkBT;;AAjEiC;;AAoEpC,eAAeJ,KAAf","sourcesContent":["import React from 'react';\n\nimport {Link} from 'react-router-dom';\n//import {Redirect, BrowserRouter, Route, Link, Switch } from 'react-router-dom';\nimport Register from '../Register/Registeration.js';\n//const Main = lazy(() => import('../../Main/index.js'));\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state={\n          username:'',\n          password:''\n        }\n       \n\n\n    }\n handleChange=(event)=> {\n  \n    this.setState({[event.target.name]: event.target.value});\n  }\n    \nsubmitform = (e) => {\n      e.preventDefault()\n      let username=e.target[0].value\n      let password=e.target[1].value\n      \n     \n        //logic magic\n        const requestOptions = {\n            method: 'POST',\n\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({ username: username, password: password })\n        };\n        fetch('/auth', requestOptions)\n            .then(response  => {\n                 if(response.ok){\n                    this.props.changeName(true)\n                    const token=localStorage.setItem(\"username\",username)\n                    \n                   }\n\n                })\n\n        }\n    render() {\n     \n        \n        \n            return (\n\n\n          <div class=\"login-form\">\n\n            <h1>Login Form</h1>\n            <form onSubmit={this.submitform}>\n              <input type=\"text\" name=\"username\"  placeholder=\"Username\" value={this.state.username} onChange={this.handleChange} required />\n              <input type=\"text\" name=\"password\" placeholder=\"password\" value={this.state.password}  onChange={this.handleChange} required/>\n              <input type=\"submit\" />\n            \n            </form>\n        \n      <Link to=\"signup\">register</Link>\n  </div>\n\n\n    )\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}